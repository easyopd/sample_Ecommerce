import{a,s as F,u as z,h as X,i as H,j as e,Q as v}from"./react-vendor-BNWg92C-.js";import{L as W}from"./Layout-DvsYrKGp.js";import{m as B,a as k,f as P}from"./index-DGHVRrrZ.js";import{n as G,f as K,q as V,c as J,w as Q,d as Z}from"./firebase-vendor-C4yHmXkd.js";import{L as _}from"./Loader-CiKQcchp.js";import"./vendor-DpNfi1_7.js";function le(){const{mode:i,loading:S,setLoading:x}=a.useContext(B),[o,C]=a.useState(null),[u,M]=a.useState([]),[h,A]=a.useState(4),[ee,se]=a.useState(!1),[I,p]=a.useState(!1),[l,f]=a.useState(1),[E,b]=a.useState(!1),[c,d]=a.useState({x:0,y:0}),[y,D]=a.useState({x:0,y:0}),{id:g}=F(),T=z(),j=X(),N=H(s=>s.cart);a.useEffect(()=>{(async()=>{x(!0);try{const t=await G(K(P,"products",g));if(t.exists()){const r=t.data();C(r),await L(r.category)}else console.error("Product not found")}catch(t){console.error("Error fetching product:",t)}finally{x(!1)}})()},[g,x]);const L=async s=>{try{if(!s)return;const t=V(J(P,"products"),Q("category","==",s)),n=(await Z(t)).docs.map(m=>({id:m.id,...m.data()})).filter(m=>m.id!==g);M(n)}catch(t){console.error("Error fetching similar products:",t)}};a.useEffect(()=>{localStorage.setItem("cart",JSON.stringify(N))},[N]);const O=s=>{j(k(s)),v.success("Added to cart!")},U=()=>{p(!0),f(1),d({x:0,y:0})},R=()=>{p(!1),f(1),d({x:0,y:0})},$=s=>{s.stopPropagation(),f(t=>t===1?2:1),d({x:0,y:0})},Y=s=>{l!==1&&(b(!0),D({x:s.clientX-c.x,y:s.clientY-c.y}))},w=()=>{b(!1)},q=s=>{if(!E||l===1)return;let t=s.clientX-y.x,r=s.clientY-y.y;const n=200*(l-1);t=Math.max(-n,Math.min(t,n)),r=Math.max(-n,Math.min(r,n)),d({x:t,y:r})};return e.jsx(W,{children:S?e.jsx(_,{}):o?e.jsxs(e.Fragment,{children:[e.jsx("section",{className:"text-gray-600 body-font overflow-hidden",children:e.jsx("div",{className:"container px-5 py-10 mx-auto",children:e.jsxs("div",{className:"lg:w-4/5 mx-auto flex flex-wrap",children:[e.jsxs("div",{className:"relative flex flex-col items-center lg:w-1/2 w-full",children:[e.jsx("div",{className:"overflow-hidden rounded-lg cursor-pointer max-h-[600px] aspect-[3/4]",onClick:U,children:e.jsx("img",{alt:"ecommerce",className:"w-full h-full object-cover object-center rounded transition-transform duration-500 ease-in-out hover:scale-110",src:o.imageUrl1})}),I&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50",onClick:R,children:e.jsx("div",{className:`relative flex items-center justify-center ${l>1?"cursor-move":"cursor-zoom-in"}`,onDoubleClick:$,onMouseDown:Y,onMouseUp:w,onMouseLeave:w,onMouseMove:q,onClick:s=>s.stopPropagation(),children:e.jsx("img",{alt:"Full View",className:"max-w-[90vw] max-h-[90vh] transition-transform duration-300",src:o.imageUrl1,style:{transform:`scale(${l}) translate(${c.x}px, ${c.y}px)`,transformOrigin:"center"}})})})]}),e.jsxs("div",{className:"lg:w-1/2 w-full lg:pl-10 lg:py-6 mt-6 lg:mt-0",children:[e.jsx("h2",{className:"text-sm title-font text-gray-500 tracking-widest",children:"HUNAR PASHMINA"}),e.jsx("h1",{className:`text-3xl title-font font-medium mb-1 ${i==="dark"?"text-white":"text-black"}`,children:o.title}),e.jsxs("p",{children:[e.jsxs("span",{className:"text-2xl font-bold text-blue-600 drop-shadow-lg ml-2 ",children:["Rs. ",o.price]}),e.jsx("h6",{className:"text-[12px]",children:"Tax included. Shipping calculated at checkout."})]}),e.jsx("p",{className:`mb-5 pb-5 p-4 rounded-lg shadow-md text-lg font-semibold tracking-wide drop-shadow-lg 
                                        ${i==="dark"?"text-white":"text-black"}`,children:o.description}),e.jsx("div",{className:"flex",children:e.jsx("button",{type:"button",onClick:()=>O(o),className:"focus:outline-none text-white bg-blue-600 hover:bg-pink-700 focus:ring-4 focus:ring-purple-300 font-medium rounded-lg text-sm w-full py-2 ml-4",style:{backgroundColor:i==="dark"?"gray":"#22333B"},children:"Add To Cart"})}),e.jsxs("div",{className:"max-h-60 overflow-y-scroll p-6 border border-gray-300 rounded-lg mt-5 bg-white shadow-md",children:[e.jsxs("p",{className:"mb-4",children:[e.jsx("span",{className:"text-lg font-semibold text-gray-800",children:"PRODUCTION TIME:"}),e.jsx("span",{className:"text-gray-600",children:" It took about 3 to 6 months, as each piece is handmade."})]}),e.jsxs("p",{className:"mb-4",children:[e.jsx("span",{className:"text-lg font-semibold text-gray-800",children:"STYLING:"}),e.jsx("span",{className:"text-gray-600",children:" Drape it gracefully over your shoulder and let it flow, or wrap it around your body to highlight the fine beauty of the Kani print and hand sozni embroidery."})]}),e.jsxs("p",{className:"mb-4",children:[e.jsx("span",{className:"text-lg font-semibold text-gray-800",children:"OCCASION:"}),e.jsx("span",{className:"text-gray-600",children:" A refined accessory for weddings, festivals, corporate events, and casual outings."})]}),e.jsxs("p",{className:"mb-4",children:[e.jsx("span",{className:"text-lg font-semibold text-gray-800",children:"CARE AND MAINTENANCE:"}),e.jsxs("span",{className:"text-gray-600 block mt-1",children:["• We recommend professional dry cleaning.",e.jsx("br",{}),"• Avoid bleach or harsh chemicals.",e.jsx("br",{}),"• Avoid scrubbing, as this can cause pilling or damage to the fibers.",e.jsx("br",{}),"• Store in a cool, dry place, wrapped in breathable fabric like cotton to prevent damage or discoloration."]})]}),e.jsxs("p",{className:"mb-4",children:[e.jsx("span",{className:"text-lg font-semibold text-gray-800",children:"LUXURY GIFT:"}),e.jsx("span",{className:"text-gray-600",children:" Worn by Royals! Cashmere Pashmina is a luxury gift piece that will stay fashionable for years, making it a treasure worth cherishing and handing down as a family heirloom. It is a classic gift for weddings, anniversaries, birthdays, or corporate events."})]}),e.jsxs("p",{className:"mb-4",children:[e.jsx("span",{className:"text-lg font-semibold text-gray-800",children:"SHIPMENT & PAYMENT:"}),e.jsxs("span",{className:"text-gray-600 block mt-1",children:["This luxurious cashmere Pashmina is ready to wrap you in comfort, with worldwide shipping options available.",e.jsx("br",{}),"Please note that cash on delivery is available only within India."]})]}),e.jsxs("p",{children:[e.jsx("span",{className:"text-lg font-semibold text-gray-800",children:"PLEASE NOTE:"}),e.jsxs("span",{className:"text-gray-600 block mt-1",children:["• Created by the hands of Kashmiri artisans, this luxurious Cashmere Pashmina features subtle variations in its fabrication and embroidery that serve as marks of authenticity, making it a one-of-a-kind beauty.",e.jsx("br",{}),"• Slight color variations may occur due to different screen resolutions. We do our best to show accurate product images, but the actual color may look a bit different on various devices. Thank you for understanding."]})]})]})]})]})})}),u.length>0&&e.jsxs("section",{className:"max-w-6xl mx-auto px-5 py-10",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-800 dark:text-white",children:"Similar Products"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-6",children:u.slice(0,h).map(s=>e.jsxs("div",{onClick:()=>T(`/productinfo/${s.id}`),className:"cursor-pointer border border-gray-300 rounded-lg p-4 text-center shadow-md transition-transform transform hover:scale-105",style:{backgroundColor:i==="dark"?"#2E3137":"#fff",color:i==="dark"?"#fff":"#333"},children:[e.jsx("div",{className:"flex justify-center",children:e.jsx("img",{src:s.imageUrl1,alt:s.title,className:"w-full h-48 object-cover rounded-md"})}),e.jsx("h3",{className:"text-lg font-bold mt-4",children:s.title}),e.jsxs("p",{className:"text-red-600 font-semibold mt-2",children:["₹",s.price]}),e.jsx("button",{onClick:t=>{t.stopPropagation(),j(k(s)),v.success("Added to cart!")},className:"mt-4 bg-gray-800 text-white px-4 py-2 rounded-md w-full text-sm font-semibold hover:bg-red-600 transition",children:"Add To Cart"})]},s.id))}),h<u.length&&e.jsx("div",{className:"text-center mt-6",children:e.jsx("button",{onClick:()=>A(h+4),className:"px-6 py-2 bg-blue-600 text-white rounded-md font-semibold hover:bg-blue-700 transition",children:"Show More"})})]})]}):e.jsx("div",{className:"text-center text-gray-500 text-xl",children:"Product not found"})})}export{le as default};
